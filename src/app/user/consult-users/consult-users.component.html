<app-header></app-header>

<main class="vhHeight">
  <div class="loader" *ngIf="loading"></div>

  <div class="M-Table M-Table--collapse-column">
    <div class="container-fluid">
      <div class="container-fluid col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2" id="callOut"></div>

      <div class="row">

        <div class="A-Text-ComponentHeader  col-xs-12 col-sm-10 col-sm-offset-1 col-md-8 col-md-offset-2">
          <h2 class="A-Text-ComponentHeader__headline   u-TextColor--fuchsia h3">Users</h2>
        </div>

        <div class="col-xs-12 M-Table__container">

          <table class="M-Table__contentWrapper">
            <tbody class="M-Table__content">
              <!--Header-->
              <tr class="M-Table__row M-Table__headlineRow">
                <th class="M-Table__cell M-Table__cell--head">
                  Last Name
                </th>
                <th class="M-Table__cell M-Table__cell--head">
                  First Name
                </th>
                <th class="M-Table__cell M-Table__cell--head">
                  Email
                </th>
                <th class="M-Table__cell M-Table__cell--head">
                  Access
                </th>
                <th class="M-Table__cell M-Table__cell--head">
                  Actions
                </th>
              </tr>

              <!--Body-->
              <tr class="M-Table__row" *ngFor="let user of users | paginate: { itemsPerPage: elementsPerPage, currentPage: currentPage }">
                <td class="M-Table__cell">
                  <div class="">
                    {{user.lastName}}
                  </div>
                </td>
                <td class="M-Table__cell">
                  <div class="A-Text-RichText">
                    {{user.firstName}}
                  </div>
                </td>
                <td class="M-Table__cell">
                  <div class="A-Text-RichText">
                    {{user.email}}
                  </div>
                </td>
                <td class="M-Table__cell">
                  <div class="A-Text-RichText" *ngIf="user.verificate == true">
                    Enable
                  </div>
                  <div class="A-Text-RichText" *ngIf="user.verificate == false">
                    Disable
                  </div>
                </td>
                <td class="M-Table__cell">
                  <div class="A-Text-RichText actions-buttons">
                    <a class="btn-image edit" title="Enable access" *ngIf="user.verificate == false" (click)="editUser(user.id)"></a>
                    <a class="btn-image edit" title="Disable access" *ngIf="user.verificate == true" (click)="editUser(user.id)"></a>
                    <a class="btn-image delete" title="Delete user" (click)="deleteUser(user.id)"></a>
                  </div>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>

      <div class="pagination">
        <pagination-controls class="custom-pagination"
          (pageChange)="currentPage = $event"
          maxSize="7"
          directionLinks="true"
          autoHide="false"
          responsive="true"
          previousLabel=""
          nextLabel=""
          screenReaderPaginationLabel=""
          screenReaderPageLabel=""
          screenReaderCurrentLabel="">
        </pagination-controls>
      </div>
    </div>
  </div>
</main>
